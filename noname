print("222")
queueteleport = (syn and syn.queue_on_teleport) or queue_on_teleport or (fluxus and fluxus.queue_on_teleport)
local Players = game.Players
local TeleportCheck = false
Players.LocalPlayer.OnTeleport:Connect(function(State)
	if (not TeleportCheck) and queueteleport then
		TeleportCheck = true
		 queue_on_teleport([[[
     while task.wait() do 
    loadstring(game:HttpGet('https://raw.githubusercontent.com/MarvelousKing55209/universal-script-stuff/refs/heads/main/noname'))()
     end
     ]])
	end
end)


print("1")
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")

local PlaceId = game.PlaceId  -- current place ID

-- Function to get a random server
local function GetRandomServer()
	local servers = {}
	local cursor = ""
	
	-- Loop until we get at least one server
	repeat
		local url = "https://games.roblox.com/v1/games/" .. PlaceId .. "/servers/Public?sortOrder=Asc&limit=100&cursor=" .. cursor
		local response = HttpService:JSONDecode(game:HttpGet(url))
		
		for _, server in pairs(response.data) do
			-- Only add servers that have open player slots
			if server.playing < server.maxPlayers then
				table.insert(servers, server.id)
			end
		end
		
		cursor = response.nextPageCursor or ""
	until #servers > 0 or cursor == ""
	
	if #servers > 0 then
		return servers[math.random(1, #servers)]
	else
		return nil
	end
end

-- Example: teleport the local player to a random server
local player = Players.LocalPlayer
local serverId = GetRandomServer()

if serverId then

for i, v in pairs(workspace.Items:GetChildren()) do 
if v.Name == "Diamond" and v:FindFirstChildOfClass("MeshPart") then
local part = v:FindFirstChildOfClass("MeshPart")
repeat 
wait()
  if game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
  game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(part.Position)
local args = {
	workspace.Items.Diamond
}
game:GetService("ReplicatedStorage"):WaitForChild("RemoteEvents"):WaitForChild("RequestTakeDiamonds"):FireServer(unpack(args))
end
until game.Players.LocalPlayer.Character == nil or game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") == nil or part == nil or part.Parent == nil or part.Parent.Parent == nil 
end
end

for i, v in pairs(workspace.Items:GetChildren()) do 
if v.Name == "Stronghold Diamond Chest" and v:FindFirstChildOfClass("MeshPart") then 
local part = v:FindFirstChildOfClass("MeshPart")
local startTime = tick() 
repeat 
wait()
  if game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
  game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(part.Position)
local args = {
	workspace:WaitForChild("Items"):WaitForChild("Stronghold Diamond Chest")
}
game:GetService("ReplicatedStorage"):WaitForChild("RemoteEvents"):WaitForChild("RequestOpenItemChest"):FireServer(unpack(args))
end
until tick() - startTime >= 12 or game.Players.LocalPlayer.Character == nil or game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") == nil or part == nil or part.Parent == nil or part.Parent.Parent == nil  
end
end
wait(1)
for i, v in pairs(workspace.Items:GetChildren()) do 
if v.Name == "Diamond" and v:FindFirstChildOfClass("MeshPart") then
local part = v:FindFirstChildOfClass("MeshPart")
repeat 
wait()
  if game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
  game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(part.Position)
local args = {
	workspace.Items.Diamond
}
game:GetService("ReplicatedStorage"):WaitForChild("RemoteEvents"):WaitForChild("RequestTakeDiamonds"):FireServer(unpack(args))
end
until game.Players.LocalPlayer.Character == nil or game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") == nil or part == nil or part.Parent == nil or part.Parent.Parent == nil 
end
end

wait(10)
 print("2") 
  TeleportService:TeleportToPlaceInstance(PlaceId, serverId, player)
else
	warn("No available servers found!")
end
